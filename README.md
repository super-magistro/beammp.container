# 🚗 BeamMP.container

![beammp](https://c10.patreonusercontent.com/4/patreon-media/p/campaign/661801/1367c3e61e524d2abfa6a53c23b3f8ae/eyJ3IjoxOTIwLCJ3ZSI6MX0%3D/8.png?token-hash=rrhg9uWO1Q_7gNrGz9-x3o3mlwLt31JuYAG6vdg6Hrc%3D\&token-time=1754265600)

A simple and smart Docker setup to run a **BeamMP server** for *BeamNG.drive* on **ARM64 platforms** (Raspberry Pi 4/5, Apple Silicon, ARM cloud servers...).

This image automatically fetches the latest server version, generates a config from environment variables, and supports mod folders via volume mounts.

---

## 📦 Project Contents

```
beammp.container/
├── Dockerfile                    # ARM64 image based on Debian 12
├── docker-compose.yml            # Container config (autogenerated)
├── build.sh                      # Rewrites docker-compose.yml with correct port bindings
├── start.sh                      # Smart entrypoint: update, configure, launch
├── .env                          # Pre-filled server config
├── config/
│   └── ServerConfig.toml.template
└── mods/
    ├── Server/                   # Server-side mods
    └── Client/                   # Client mods
```

---

## ⚙️ Requirements

* Docker & Docker Compose
* An ARM64-based system
* A valid BeamMP Keymaster key: [The Key to the success](https://keymaster.beammp.com/)

---

## 🚀 Quick Start

### 1. Clone this repository

```bash
git clone https://github.com/super-magistro/beammp.container.git
cd beammp.container
```

### 2. Configure the environment

Edit the provided `.env` file to match your server settings:

```dotenv
SERVER_NAME="MyServer"
AUTH_KEY="your-keymaster-key"
MAX_PLAYERS=12
MAP="/levels/east_coast_usa/info.json"
PORT=30814
DESCRIPTION="Hosted on ARM64"
TAGS="freeroam,realistic"
PRIVATE=false
LOG_CHAT=true
DEBUG=false
MAX_CARS=3
NOT_SHOW_IF_UPDATE_AVAILABLE=false
...
```

### 3. Build and run

```bash
sudo docker compose up -d --build
```

✅ That’s it! The BeamMP server will be auto-downloaded and launched.

---

## 🔁 Container Behavior

Every time the container starts:

* It checks for the latest BeamMP server version via GitHub
* Downloads it if newer than local version
* Generates `ServerConfig.toml` from the template and `.env` variables (unless already present)
* Launches the server automatically

No need to run anything manually on reboot — it just works™.

---

## 🔐 Environment Variables

| Variable                       | Description                                |
| ------------------------------ | ------------------------------------------ |
| `AUTH_KEY`                     | BeamMP Keymaster key                       |
| `SERVER_NAME`                  | Internal server name                       |
| `NAME`                         | Public name shown in the server browser    |
| `DESCRIPTION`                  | Public server description                  |
| `TAGS`                         | Tags (comma separated)                     |
| `PRIVATE`                      | `true` for private server                  |
| `MAX_PLAYERS`                  | Max players allowed                        |
| `MAX_CARS`                     | Max cars per player                        |
| `MAP`                          | Map to load                                |
| `LOG_CHAT`                     | `true` to log chat messages                |
| `DEBUG`                        | `true` for verbose output                  |
| `NOT_SHOW_IF_UPDATE_AVAILABLE` | Suppresses update check warning            |
| `PORT`                         | External port to expose (default: `30814`) |

---

## 📁 Mods Support

Use the `mods/` directory to add client and server mods:

| Host Path       | Container Path                  |
| --------------- | ------------------------------- |
| `./mods/Server` | `/beammp/data/Resources/Server` |
| `./mods/Client` | `/beammp/data/Resources/Client` |

These folders are mounted automatically and used by the BeamMP server.

---

## 🗺️ Supported Maps

You can use any BeamNG level path as the `MAP` value in `.env` and [many others](https://www.beamng.com/resources/categories/terrains-levels-maps.9) with `/mods`:

```txt
/levels/west_coast_usa/info.json
/levels/italy/info.json
/levels/east_coast_usa/info.json
/levels/gridmap_v2/info.json
/levels/cliff/info.json
... (more in the .env file)
```

📌 Note: Always use the full path including `/info.json`.

---

## 🌐 Port Mapping and Router Setup

The BeamMP server listens internally on port `30814`. You can remap it externally using the `PORT` variable.

If you set:

```dotenv
PORT=16383
```

Then the server will be reachable on that port (TCP & UDP). Make sure to forward that same port on your router.

The `build.sh` script automatically inserts this mapping in `docker-compose.yml`.

---

## ♻️ Auto-Restart

The container uses:

```yaml
restart: unless-stopped
```

So it will automatically come back online on crash or after host reboot.

---

## 🐳 Docker Image

If you prefer pulling from Docker Hub:

```bash
sudo docker pull magistro/beammp.container
```

You can then run it using your own `docker-compose.yml`.

---

## 📝 License

This project is open-source and free to use.
BeamMP Server is developed by [BeamMP Team](https://beammp.com) and subject to their license.

---

## 🙏 Acknowledgements

Thanks to the BeamMP developers and community.
Docs: [https://docs.beammp.com](https://docs.beammp.com)
